# 探索的テストチャーター

## セッション情報
- **日時**: 2025年11月6日
- **テスター**: QA Agent
- **対象システム**: QA Practice App（商品在庫管理システム）
- **タイムボックス**: 10分（最後の2分はまとめと次のアクション提案）

## ミッション
**意図しないセキュリティ脆弱性の発見**

PRD.mdとREADME.mdに記載されている意図的な脆弱性（XSS、バグ票エラー、削除確認なし）以外の、意図せず混入したセキュリティ脆弱性を発見する。

## 対象機能・ワークフロー
1. ログイン機能（認証・認可）
2. 商品CRUD操作（登録、編集、削除）
3. 商品検索機能
4. セッション管理
5. 入力値検証

## 最重要リスク（ビジネス・機能・セキュリティ・ユーザビリティ）
### セキュリティリスク（最優先）
1. **SQLインジェクション**: データベース操作の脆弱性
2. **認証バイパス**: 未認証アクセス、権限昇格
3. **セッション管理**: セッションハイジャック、固定化
4. **CSRF**: クロスサイトリクエストフォージェリ
5. **情報漏洩**: エラーメッセージ、デバッグ情報の露出
6. **パストラバーサル**: ファイルシステムへの不正アクセス

### ビジネスリスク
1. 商品データの不正操作
2. 価格・在庫の改ざん

### 機能リスク
1. 入力値検証の不備
2. 状態遷移の整合性

## 適用するヒューリスティック（優先順位付き）

### A. ミッション＆コンテキスト
- **最悪の許容できない失敗**: データベース全体の削除、全商品データの漏洩、管理者権限の奪取

### I. ライトセキュリティパス（最優先）
- SQLインジェクション攻撃の試行
- 認証・認可のバイパス試行
- セッション管理の検証
- CSRF保護の確認
- エラーメッセージからの情報漏洩確認

### B. データ多様性
- SQL特殊文字: `'`, `"`, `--`, `;`, `OR 1=1`
- 境界値: 負の値、極端に大きい値
- 制御文字、NULL文字

### C. 状態遷移
- 未ログイン状態でのアクセス試行
- ログアウト後の再アクセス
- セッション削除後のアクセス

### D. 並行性と順序
- 複数ブラウザでの同時操作
- セッション共有の確認

### E. 永続性と同期
- セッションの有効期限
- ログアウト後のデータ保持

### F. エラーハンドリング
- 意図的な不正入力でのエラーメッセージ分析
- スタックトレースの露出確認

### G. ユーザーレンズ
- パスワードの平文表示
- 認証情報の保存

### H. ビジネス整合性
- 価格の負の値
- 在庫数の改ざん

### J. リグレッショントラップ
- 意図的な脆弱性修正が他の問題を引き起こしていないか

## カバレッジメトリクス
- 訪問した画面数: 記録予定
- 試行した入力数: 記録予定
- 発見した欠陥数: 記録予定

## オラクル（真実の源泉）
- OWASP Top 10セキュリティリスク
- Flaskセキュリティベストプラクティス
- PRD.mdの仕様
- 一般的なWebセキュリティ標準

## バイアスガードレール
- 事実と仮説を分離
- 再現可能性を優先
- エビデンスを必ず記録
- 不確実性を明示

## セッション開始時刻
開始: （記録予定）
